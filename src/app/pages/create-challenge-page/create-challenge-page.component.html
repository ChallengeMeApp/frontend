<div class="picture">
	<img
		alt="Challenge picture"
		src="/assets/images/categories/{{
			this.challengeCategory.value || 'daily'
		}}.jpg"
	/>
</div>

<div class="form-wrapper">
	<h1>Quest erstellen</h1>

	<form [formGroup]="createChallengeForm" (ngSubmit)="onSubmit()">
		<input
			type="text"
			placeholder="Questname"
			class="challenge-name"
			[formControl]="challengeName"
		/>

		<select class="category" [formControl]="challengeCategory">
			<option value="" disabled selected>Kategorie</option>
			<option
				*ngFor="let category of categories"
				value="{{ category.name }}"
				>{{ category.display }}</option
			>
		</select>

		<textarea
			rows="12"
			cols="24"
			placeholder="Beschreibe deine Quest..."
			[formControl]="challengeDescription"
		></textarea>

		<textarea
			cols="24"
			rows="7"
			placeholder="Benötigtes Material..."
			[formControl]="challengeMaterial"
		>
		</textarea>

		<div *ngIf="submitted && createChallengeForm.invalid" class="errors">
			<span *ngIf="challengeName.errors !== null">
				Gib deiner Quest einen Namen.
			</span>
			<span *ngIf="challengeDescription.errors !== null">
				Gib deiner Quest eine Beschreibung.
			</span>
			<span *ngIf="challengeCategory.errors !== null">
				Gib deiner Quest eine Kategorie.
			</span>
			<span *ngIf="challengeMaterial.errors !== null">
				Das ist doch etwas zu viel, was für die Quest benötigt wird.
			</span>
		</div>

		<button type="submit">Quest erstellen</button>
	</form>
</div>

<app-navbar></app-navbar>
