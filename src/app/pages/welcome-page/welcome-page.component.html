<div class="background-image"></div>

<div class="image-wrapper">
	<img
		alt="ChallengeMe Logo"
		class="logo"
		src="/assets/images/logo.png"
		width="100%"
	/>

	<form (ngSubmit)="saveName()" [formGroup]="registrationForm">
		<label class="name-field">
			Wähle einen Namen
			<input formControlName="name" name="name" type="text" />
		</label>

		<div class="checkboxes">
			<label>
				<input
					formControlName="dataPrivacy"
					name="dataprivacy"
					type="checkbox"
				/>
				<span>Datenschutzerklärung</span>
			</label>

			<label>
				<input
					formControlName="codeOfConduct"
					name="code-of-conduct"
					type="checkbox"
				/>
				<span>Code of Conduct</span>
			</label>
		</div>

		<div
			*ngIf="
				(submitted && registrationForm.invalid) || nameIsAlreadyInUse
			"
			class="errors"
			style="
				padding: 10px;
				border: 1px solid red;
				margin: 15px;
				background: rgba(255, 0, 0, 0.65);
				color: #fff;
				font-weight: 400;
				font-size: 16px;
			"
		>
			<span *ngIf="registrationForm.get('name').errors !== null"
				>Du musst einen Namen angeben.</span
			>
			<span *ngIf="nameIsAlreadyInUse"
				>Der Nutzername ist leider schon vergeben.</span
			>
			<span *ngIf="registrationForm.get('dataPrivacy').errors !== null"
				>Du musst den Datenschutzbst. zustimmen.</span
			>
			<span *ngIf="registrationForm.get('codeOfConduct').errors !== null"
				>Du musst dem CoC zustimmen.</span
			>
		</div>

		<button type="submit">Weiter</button>
	</form>
</div>
